kernel.renderer.registrar_pagelet("mesas",function(d){var e="#"+d.id;var b;function c(f){var g=false;if(/^(0[1-9]|[12][0-9]|3[01])\/(0[1-9]|1[012])\/\d{4}$/.test(f)){if(Date.parse(f)){g=true}}return g}function a(f){switch(f){case"f":$("#fecha").parents(".control-group").show();$("#desde").parents(".control-group").hide();$("#hasta").parents(".control-group").hide();break;case"r":$("#fecha").parents(".control-group").hide();$("#desde").parents(".control-group").show();$("#hasta").parents(".control-group").show();break;default:}}return{onload:function(){a($("#mesas #filtrar_por").val());if(d.hubo_error_validacion){kernel.ui.show_mensaje(d.mensajes.msg_error_fechas,{tipo:"alert-error",until_interaction:true})}var f=$("form").formulario();f.find("input.date").datepicker("destroy");f.find("input.date").datepicker({changeMonth:true,changeYear:true,firstDay:0});$("#mesas #filtrar_por").change(function(){a($(this).val())});$("form").on("submit",function(){var n=f.find("#filtrar_por").val();var h=f.find("#fecha").val();var g=f.find("#desde").val();var m=f.find("#hasta").val();var j=false;var l=false;var i=false;var k;if(n=="f"){if((h!="")&&(!c(h))){i=true;k=d.mensajes.fecha_invalida}}else{if(g!=""){if(c(g)){g=Date.parse(g)}else{j=true;i=true}}if(m!=""){if(c(m)){m=Date.parse(m)}else{l=true;i=true}}if(j&&l){k=d.mensajes.msg_error_fechas}else{if(j){k=d.mensajes.fecha_desde_invalida}else{if(l){k=d.mensajes.fecha_hasta_invalida}else{if((g!="")&&(m!="")){if(g.compareTo(m)>0){k=d.mensajes.fecha_hasta_menor_fecha_desde;i=true}}}}}}if(i){kernel.ui.show_mensaje(k,{tipo:"alert-error",until_interaction:true});return false}})}}});